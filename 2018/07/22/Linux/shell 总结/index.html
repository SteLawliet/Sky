<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>No title | stelawliet | 迁移整理中...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="【Linux】Shell脚本学习总结篇2017年06月11日 17:24:31 阅读数：4017 【Linux】Shell脚本学习总结篇  shell学习分为下面3个部分：  shell基本命令回顾 shell基本语法学习 awk/sed 工具学习  关于shell的介绍之类的在这里不做赘述！  shell基本命令回顾 1.1 最基础的常用命令 12（注：命令选项直接 man 查看，不做说明）">
<meta name="keywords" content="blog">
<meta property="og:type" content="article">
<meta property="og:title" content="No title">
<meta property="og:url" content="http://io.stelawliet.top/2018/07/22/Linux/shell 总结/index.html">
<meta property="og:site_name" content="stelawliet">
<meta property="og:description" content="【Linux】Shell脚本学习总结篇2017年06月11日 17:24:31 阅读数：4017 【Linux】Shell脚本学习总结篇  shell学习分为下面3个部分：  shell基本命令回顾 shell基本语法学习 awk/sed 工具学习  关于shell的介绍之类的在这里不做赘述！  shell基本命令回顾 1.1 最基础的常用命令 12（注：命令选项直接 man 查看，不做说明）">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://io.stelawliet.top/2018/07/22/Linux/shell%20总结/shell">
<meta property="og:image" content="http://io.stelawliet.top/2018/07/22/Linux/shell%20总结/shell%20总结.assets/image-20180722104011888.png">
<meta property="og:image" content="http://io.stelawliet.top/2018/07/22/Linux/shell%20总结/shell">
<meta property="og:image" content="http://io.stelawliet.top/2018/07/22/Linux/shell%20总结/shell%20总结.assets/image-20180722104051021.png">
<meta property="og:image" content="http://io.stelawliet.top/2018/07/22/Linux/shell%20总结/shell">
<meta property="og:image" content="https://img-blog.csdn.net/20170611130559321?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611130956588?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611134222663?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611134612701?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611140530867?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611142250876?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611143514444?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611145919486?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611151057892?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611152215908?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611152851370?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611154143310?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611154151122?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611163255066?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611164842167?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611171504479?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="https://img-blog.csdn.net/20170611172225139?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:updated_time" content="2018-07-22T02:41:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="No title">
<meta name="twitter:description" content="【Linux】Shell脚本学习总结篇2017年06月11日 17:24:31 阅读数：4017 【Linux】Shell脚本学习总结篇  shell学习分为下面3个部分：  shell基本命令回顾 shell基本语法学习 awk/sed 工具学习  关于shell的介绍之类的在这里不做赘述！  shell基本命令回顾 1.1 最基础的常用命令 12（注：命令选项直接 man 查看，不做说明）">
<meta name="twitter:image" content="http://io.stelawliet.top/2018/07/22/Linux/shell%20总结/shell">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Stelawliet</h5>
          <a href="mailto:Stelawliet@gmail.com" title="Stelawliet@gmail.com" class="mail">Stelawliet@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Stelawliet" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/Stelawliet" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/Stelawliet"  >
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis"></div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="検索">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title"></h1>
        <h5 class="subtitle">
            
                <time datetime="2018-07-21T17:02:41.000Z" itemprop="datePublished" class="page-time">
  2018-07-22
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#【Linux】Shell脚本学习总结篇"><span class="post-toc-number">1.</span> <span class="post-toc-text">【Linux】Shell脚本学习总结篇</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Linux/shell 总结"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title"></h1>
        <div class="post-meta">
            <time class="post-time" title="2018-07-22 01:02:41" datetime="2018-07-21T17:02:41.000Z"  itemprop="datePublished">2018-07-22</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="【Linux】Shell脚本学习总结篇"><a href="#【Linux】Shell脚本学习总结篇" class="headerlink" title="【Linux】Shell脚本学习总结篇"></a>【Linux】Shell脚本学习总结篇</h1><p>2017年06月11日 17:24:31</p>
<p>阅读数：4017</p>
<p><strong>【Linux】Shell脚本学习总结篇</strong></p>
<hr>
<p>shell学习分为下面3个部分：</p>
<ul>
<li>shell基本命令回顾</li>
<li>shell基本语法学习</li>
<li>awk/sed 工具学习</li>
</ul>
<p>关于shell的介绍之类的在这里不做赘述！</p>
<hr>
<p><strong>shell基本命令回顾</strong></p>
<p>1.1 <strong>最基础的常用命令</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">（注：命令选项直接 man 查看，不做说明）  </span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p>1.1.1 <strong>查看文件和目录的命令</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ls : 列出目录下的清单；</span><br><span class="line">cat: 连接显示文件内容</span><br><span class="line">less/more: 分页显示文件内容，建议使用less，相比于more更方便；</span><br><span class="line">head: 显示文件头部，可指定行数，默认显示10行；</span><br><span class="line">tail: 显示文件尾部，可指定行数，默认显示10行；</span><br><span class="line">file: 显示文件类型；</span><br><span class="line">wc: 查看文件或统计信息；</span><br><span class="line">find: 查找文件或目录（选项比较多，前面有博客专门介绍过）</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>
<p>部分演示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="shell" alt="image-20180722103949733" title="总结.assets/image-20180722103949733.png">
                </div>
                <div class="image-caption">总结.assets/image-20180722103949733.png</div>
            </figure>
<p>1.1.2 <strong>操作文件和目录</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">touch:创建新文件（可以直接使用vim/vi/gredit等编辑器直接创建）</span><br><span class="line">mkdir:创建目录，可以利用 -r选项递归创建</span><br><span class="line">cp: 拷贝命令，拷贝目录时可以使用 -r 选项</span><br><span class="line">ln: 创建链接命令，分为软连接和硬链接（有专门的文章介绍）</span><br><span class="line">mv: 移动文件或者目录的命令，同时也是改名命令</span><br><span class="line">rm: 删除命令，-r 删除目录， 谨慎使用；</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<p>1.1.3 <strong>管理文件或者目录的权限</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls -l : 可以列出文件和目录的权限信息；</span><br><span class="line">chmod: 修改文件和目录的权限（需要了解字母及数字权限表示）</span><br><span class="line">chown/chgrp: 改变属组和属主</span><br><span class="line">setuid/setgid：设置用户或组权限位；</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>
<p>1.1.4 <strong>文本处理命令</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sort : 文本排序</span><br><span class="line">uniq : 文本去重</span><br><span class="line">tr : 替换命令</span><br><span class="line">grep : 查找字符串</span><br><span class="line">diff: 文件对比，找出文件差异</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>
<p>部分演示： </p>
<p><img src="shell 总结.assets/image-20180722104011888.png" alt="image-20180722104011888"></p>
<p><strong>解释：</strong> history 命令列出用户的历史使用命令，然后通过awk 过滤出第二列，因为第一列是文件的行数标号， 接着进行一个sort排序，将所有相同的命令都放在一起方便接下来的uniq -c命令去重并且统计出每个命令出现的次数，再然后是 sort -nr -n选项的意思是按照数字的大小即uniq统计出的次数进行排序 -r 则是反向的意思，即本来是正序变为逆序；然后取其前十，即最常用的前十个命令，最后用一下 tr 命令将小写字母替换为大写字母；</p>
<p>对于命令的选项，我一贯的思想都是记住命令和常用的选项即可，太多的选项不需要强行去记忆，用的时候 man 一下或者 –help 看一下即可；</p>
<p>1.1.5 <strong>其它常用的命令</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hostname : 查看主机名</span><br><span class="line">w, who : 列出系统登录的用户</span><br><span class="line">uptime : 查看系统运行时间</span><br><span class="line">uname : 查看系统信息</span><br><span class="line">date : 显示和设置系统日期和时间</span><br><span class="line">id  : 显示用户属性</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<p>1.1.6 <strong>shell命令进阶</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">paster : 合并文本</span><br><span class="line">dd : 备份和拷贝文件（和vim 和剪切命令一样）</span><br><span class="line">tar : 打包和解包文件</span><br><span class="line">mount, umount : 挂载和卸载存储介质</span><br><span class="line">df : 报告文件系统磁盘空间利用率</span><br><span class="line">du : 评估文件空间利用率</span><br><span class="line">ps : 查看系统的进程</span><br><span class="line">pidof : 列出进程的pid</span><br><span class="line">top : 相当于 Linux 的任务管理器</span><br><span class="line">&amp; : 将作业后台运行</span><br><span class="line">jobs : 查看作业</span><br><span class="line">bg : 让挂起的进程在后台继续执行</span><br><span class="line">fg : 将后台进程放入前台</span><br><span class="line">fdisk: 查看系统的磁盘信息</span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure>
<p>部分演示：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="shell" alt="image-20180722104034136" title="总结.assets/image-20180722104034136.png">
                </div>
                <div class="image-caption">总结.assets/image-20180722104034136.png</div>
            </figure></p>
<p>前后台切换演示： </p>
<p><img src="shell 总结.assets/image-20180722104051021.png" alt="image-20180722104051021"></p>
<p>解释：** 先执行 sleep 100 &amp; 让这个进程在后台执行，然后我们先使用 ps 配合 grep 命令查看一下 sleep 进程的信息，接着 jobs 查看一下后台运行的作业， 使用 fg 命令使其继续在前台执行，我们可以看到显示了sleep 100 ， 接着我们又不想让他继续执行了，使用 ctrl + z 使其挂起，我们用jobs查看，可以看出其处于 stopped 状态，接着使用 bg 命令使其继续在后台执行，查看状态， 处于running状态；</p>
<p>至此，shell的基本命令回顾完毕，这些都是脚本中常用的命令；</p>
<hr>
<p><strong>shell基本语法学习</strong></p>
<p>这部分学习编写shell脚本的基本语法，估计篇幅比较长，因为要敲很多代码，所以，有瑕疵的地方请指出；</p>
<p>2.1 <strong>shell 语法篇</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">（这是回顾与复习的过程，所以不是小白教程，起码都吃过猪肉，看过猪跑）</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p>2.1.1 <strong>shell 编程基础</strong></p>
<p>1&gt; 上面刚说过，得吃过猪肉，看过猪跑，那么最基本的shell脚本的编写格式应该知道；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;hello world&quot;12</span><br></pre></td></tr></table></figure>
<p><strong>分析：</strong>还是 hello world 起步，第一行的 #！叫做 Shebang(我也不知道为什么这么叫)， 然后后面的 /bin/bash 则是指定解释器，既然shell是门解释性语言，自然需要解释器，类似的，如果是 python脚本，则是 #! /bin/python 可能还需要一些编码格式的规定（utf - 8），如果没有指定解释器，默认选择 sh ； 同时还需要给文件可执行权限，否则会报错，虽然我们一般把shell 脚本文件命名为 .sh 的文件（在Linux中文件后缀只能起到标识的作用，没有实际意义）；</p>
<p>2&gt; <strong>shell 中的注释，在shell中注释的符号是 “#”；</strong></p>
<p>3&gt; <strong>shell 的变量</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">在shell中设置变量和平时在命令行设置变量是一样的，可以直接定义一个变量，例如： a=10  不需要声明类型，不需要分号；</span><br><span class="line"></span><br><span class="line">如果需要明确指定变量的类型的话，可以只用declare的选项指定类型；</span><br><span class="line"></span><br><span class="line">变量的作用域: 在shell 中，变量默认都具有全局属性，如果需要局部的变量则需要在变量的声明处加 local 关键字。如： local  a=10</span><br><span class="line"></span><br><span class="line">变量的操作: </span><br><span class="line">    3.1 获取变量的值</span><br><span class="line">    在命令行获取变量的值是通过 echo $&#123;a&#125;  打印变量的值到终端的，那么echo的作用是打印，&apos;$&#123;&#125;&apos; 的作用不言而喻（花括号可省略，起分割的作用）。</span><br><span class="line">    3.2 变量的运算</span><br><span class="line">    let a+=1</span><br><span class="line">    即使用 let 命令，当然除了 let 命令还有 &apos;(())&apos; 双括号，都可以进行变量的运算；</span><br><span class="line">    3.3 参数变量</span><br><span class="line">    说到shell的参数，有两个点，一个是命令行参数，一个是函数的参数，这里先说明命令行参数，函数的参数在后面学习函数的时候补充；</span><br><span class="line"></span><br><span class="line">    首先，记住这几个特殊符号: $# $@ $* $1 $2 ...</span><br><span class="line"></span><br><span class="line">    在运行程序的时候，经常需要带一些初始的参数，那么这些命令行参数到底是怎么传递进来的呢？</span><br><span class="line">12345678910111213141516171819</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="shell" alt="image-20180722104109017" title="总结.assets/image-20180722104109017.png">
                </div>
                <div class="image-caption">总结.assets/image-20180722104109017.png</div>
            </figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    $# : 除$0以外的参数的个数（文件名，命令除外，它们用$0查看）；</span><br><span class="line">    $@/*: 表示所有参数的集合</span><br><span class="line">    $0,1,2...: 表示参数</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p><strong>注：取消变量的定义 unset</strong></p>
<p>这里既然说到了变量，就顺带提一下环境变量和普通变量；</p>
<p>4&gt; <strong>shell环境变量和普通变量</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">首先，明确两点，第一点即环境变量和普通变量在虚拟地址空间的存放位置，环境变量在栈顶的位置（高地址处），而普通变量是在数据段存放的；第二点，子进程会继承父进程的环境变量；</span><br><span class="line"></span><br><span class="line">普通变量的命令行声明： a=10</span><br><span class="line">将普通变量变为环境变量：export a</span><br><span class="line"></span><br><span class="line">如何验证？</span><br><span class="line">4.1  在父bash 中声明变量 a=10, 命令行敲 &apos;bash&apos; 命令相当于起了一个子bash， 在子 bash 中查找是否有 a变量；</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611130559321?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（set 命令查看所有变量， env 命令查看所有环境变量，exit或者ctrl + d 退出子bash）</span><br><span class="line"></span><br><span class="line">4.2  在父bash 中将变量 a 声明为环境变量 &apos;export a&apos;, 在子bash 中查看变量 a;</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611130956588?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<p>2.1.2 <strong>shell 的条件执行</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shell的条件执行其实和C差不多，具体的差异就在于语法格式的一些差别；</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p>1&gt; <strong>if 条件执行</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">不同于C的是，bash的条件测试不单单只是可以通过if进行判断，还要结合一些特殊的符号，命令和参数；</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p>先列出基本的if语句的使用格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if true</span><br><span class="line">then</span><br><span class="line">    echo &quot;hello world!&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;see you world!&quot;</span><br><span class="line">fi 123456</span><br></pre></td></tr></table></figure>
<p>：这就是 if 语句的基本使用格式，当然，中间还可以有 ’ elif ’ 相当于 C 的 else if ; 值得注意的是开始的 then 和 最后的 fi ， 每个 if 都必须有一个fi 与之对应代表结束，因为没有了 ’ {} ‘;</p>
<p>前面说了，shell的条件判断需要结合一些命令，符号，选项来配合使用；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2.1 &apos;[]&apos; 和 test</span><br><span class="line"></span><br><span class="line">&apos;[]&apos; 和 test 都被用作测试，如：</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if [ -f install.log ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;hello&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">test -f install.log; echo &quot;hello&quot;123456</span><br></pre></td></tr></table></figure>
<p>’ [ ] ’ 和 test 有很多选项，这里我就不一一演示，需要的话直接 man test; ( 注意： 使用 ‘[ ]’ 时， 需要两个空格，‘[’的后面， ‘]’的前面各一个)；</p>
<p>不但这些，还有比较的符号；其中又分字符串和算数的不同；</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611134222663?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<p>（注： $? 查看上一条命令的返回值 ）</p>
<p><strong>追加一个知识点：</strong> 因为字符串的比较使用 ‘[]’ 时需要对 &gt;&lt;进行转义，所以shell提供 ’ [[ ]] ’ 符号，则不再需要转义，对于算术，shell提供 ’ (( )) ’ 则可以直接使用比较符进行比较（这在后面的例子中有体现）；</p>
<p>算术：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611134612701?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>2.1.3 <strong>&amp;&amp; 和 ||</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp; : &amp;&amp;符号的前面的表达式为真才会执行 &amp;&amp;后面的表达式；</span><br><span class="line">|| : || 符号前面的表达式为假才会执行 || 后面的表达式；</span><br><span class="line">&apos;!&apos;: 逻辑非</span><br><span class="line"></span><br><span class="line">通常 &amp;&amp; 和 || 配合使用，如：</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>
<p>‘’<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611140530867?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>2.1.4 <strong>shell 的 case 语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shell的case语句的格式如下：</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">case $1 in </span><br><span class="line">1)</span><br><span class="line">    echo &quot;1&quot;</span><br><span class="line">    ;;</span><br><span class="line">2)</span><br><span class="line">    echo &quot;2&quot;</span><br><span class="line">    ;;</span><br><span class="line">esac12345678</span><br></pre></td></tr></table></figure>
<p>上面就是case语句的格式，这里刚好提醒一点，就是在shell中，不允许出现空语句，如果非要有空语句，则必须写上一个 冒号 ’ : ‘;</p>
<p>2.1.5 <strong>Bash 循环</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shell的循环：for/while/until</span><br><span class="line"></span><br><span class="line">下面只演示前两种，until不太用到；</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p><strong>for循环</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">for i in $(seq 10)</span><br><span class="line">do</span><br><span class="line">    echo -n $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">#类C 的for 循环：</span><br><span class="line"></span><br><span class="line">for (( i=0; i&lt;10; ++i ))</span><br><span class="line">do</span><br><span class="line">    echo -n $i</span><br><span class="line">done 1234567891011</span><br></pre></td></tr></table></figure>
<p>注： seq 是生成连续序列的命令，而shell中执行命令的话，会用 ’ $() ‘;<br>echo -n 选项则是取消换行，每个echo语句都会带一个换行，直接一个echo则代表换行；</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611142250876?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<p><strong>while循环</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">值得一提的是break和continue关键字在shell中依然有效； </span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i=1</span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">    if [ $i -gt 2 ];then</span><br><span class="line">        echo $i</span><br><span class="line">        break</span><br><span class="line">    fi</span><br><span class="line">    let i++</span><br><span class="line">done123456789</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611143514444?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<p>continue语句不做演示；</p>
<p>2.1.6 <strong>shell的函数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">首先，shell函数的定义：</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function  fun()</span><br><span class="line">&#123;</span><br><span class="line">    if [ $# -ne 2 ];then</span><br><span class="line">        return 1</span><br><span class="line">    fi</span><br><span class="line">    local a=$1</span><br><span class="line">    local b=$2</span><br><span class="line">    let c = a + b</span><br><span class="line">    echo &quot;hello $c&quot;</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun 1 2</span><br><span class="line">if [ $? -ne 0 ];then</span><br><span class="line">    echo &quot;arguments fault!&quot;</span><br><span class="line">    exit</span><br><span class="line">else</span><br><span class="line">    echo &quot;used right&quot;</span><br><span class="line">fi12345678910111213141516171819</span><br></pre></td></tr></table></figure>
<p>上面就是一个简单的脚本，起作用是调用一个fun函数，判断调用是否正确；</p>
<p><strong>分析：</strong> 从这个脚本中我们可以看出shell脚本函数的使用方式，从定义到参数的获取，再到返回值；最后还有函数的调用方式其实和命令的执行方式是一样的；</p>
<p>（注： function关键字可以省略但不建议，return 可以返回的值是 0-255）</p>
<p><strong>额外知识点：</strong>在shell脚本中 双引号 和 单引号是有区别的，虽然在大部分场景中它们是一致的，但是如果含有特殊字符的话，双引号是没有对特殊字符进行转义的，所以上面的脚本中 “hello $c”可以顺利执行，但是单引号的话默认会对特殊字符转义的，例如：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611145919486?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>（注：shell函数对于参数的处理还有 shift 和 getopts 的处理方法，后期补充）</p>
<p>2.1.7 <strong>shell 重定向</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">说起重定向，估计不少同学都想到了管道；</span><br><span class="line"></span><br><span class="line">但是，管道并不是重定向，重定向是将一个命令的输出结果作为下一个命令的输入，而重定向是将输出和文件相链接的；</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>重定向分为输入重定向和输出重定向，其中又有追加和覆盖的区别，总的来说就是下面四个符号：</p>
<p>’ &gt; ‘, ’ &gt;&gt; ‘, ’ &lt;&lt; ’ , ’ &lt; ‘；</p>
<p>举例来说：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611151057892?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>当然，不仅可以这样，还可以将标准错误也重定向到文件；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls l 2&gt;test.sh1</span><br></pre></td></tr></table></figure>
<p><strong>输入重定向：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">例如: tr a-z  A-Z &lt;&lt;END</span><br><span class="line">        abcdef</span><br><span class="line">        END</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611152215908?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<p>注： 这里的END不是固定的，只是起一个标签的作用，代表下次遇到END就结束输入；</p>
<p>重定向的这种用法还被用到项目中的configure文件，使configure文件可以自动生成Makefile文件，例如：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611152851370?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>2.1.8 <strong>shell 脚本从标准输入读取</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">这个其实只是一个read的使用，在shell中使用read从标准输入读取数据；</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p>例如：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611154143310?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>结果：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611154151122?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>当然，read还有很多其他的使用方法，这里就不列了；</p>
<p>shell的基本语法复习到这，写的比较粗，中间还有一些遗漏，以后会更完善！</p>
<hr>
<p><strong>3.1 sed/awk 工具的简单使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3.1.1  sed 工具</span><br><span class="line"></span><br><span class="line">    sed 的背景我就不在这百科了，直接上手一些sed工具的基本使用规则，和一些简单的例子即可，不管是sed和awk工具在以后的工作中都肯定是常用的工具，但是，作为大学的学生，想熟练使用这两个工具估计得下挺大功夫，毕竟不常用；  所以我也只学习了一些简单的用法；</span><br><span class="line"></span><br><span class="line">    sed 是一个文本处理工具，它为我们提供了很多的方便，刚开始知道sed这个工具的时候，其实挺害怕，觉得好复杂，估计用不了，而且在尝试了几次之后发现过几天就忘了，也就不了了之，这很正常，因为这些工具的使用就是唯手熟尔；现在只要了解它就够了；</span><br><span class="line"></span><br><span class="line">学习sed和awk工具还有一个前提就是正则表达式的学习，这也是很多同学望而却步的原因，这里我就不对正则表达式进行百科了，不会就查，用的时间长了就记住了；</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>
<p>（）<strong>sed的工作方式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sed是一行一行处理文本的，还有需要知道sed有一个HOLD空间和模式空间，HOLD用来作为文档处理的暂存空间，不能有任何的操作，所有的操作只能在模式空间进行；</span><br><span class="line"></span><br><span class="line">sed常用的选项：</span><br><span class="line">    -e: 它告诉sed将下一个参数解释为sed指令，即需要连续多个处理时使用；</span><br><span class="line">    -f : 指定由sed指令组成的脚本的名称；</span><br><span class="line">    -i : 直接在读取的内容进行修改，如果没有—i，不会源文件造成任何修改；</span><br><span class="line">    -n: 静默模式，即只输出匹配的行，如果没有-n则匹配行会和源文件全部输出；</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">现在先不做演示，等把下面的编辑命令也复习完毕，一块做演示；</span><br><span class="line"></span><br><span class="line">sed的编辑命令有24个之多，在这里只学习常用的几个：</span><br><span class="line">追加（a）,更改（c）,删除（d），插入（i），替换（s），打印（l），打印行号（=），转换（y）;</span><br><span class="line">1234567891011121314</span><br></pre></td></tr></table></figure>
<p>部分演示：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611163255066?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>这些小的编辑命令多练习一下就熟悉了，接下来练习一个模式空间和HOLD空间的切换的例子，结束sed的复习；</p>
<p>下面这些选项则是需要用到暂存空间时要用到的选项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+ g：[address[,address]]g 将hold space中的内容拷⻉贝到pattern space中，原来pattern space⾥里的内容清除</span><br><span class="line"> + G：[address[,address]]G 将hold space中的内容append到pattern space\n后</span><br><span class="line">+ h：[address[,address]]h 将pattern space中的内容拷⻉贝到hold space中，原来的hold space⾥里的内容被清除</span><br><span class="line">+ H：[address[,address]]H 将pattern space中的内容append  hold space\n后</span><br><span class="line">+ d：[address[,address]]d 删除pattern中的所有⾏行，并读⼊入下⼀一新⾏行到pattern中</span><br><span class="line">+ D：[address[,address]]D 删除multiline pattern中的第⼀一⾏行，不读⼊入下⼀一⾏行</span><br><span class="line">+ N,添加下一行至pattern space内;</span><br><span class="line">+ x：交换保持空间和模式空间的内容</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>
<p><strong>求1~100的和</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">两种方式：</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611164842167?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<p>分析：第一个例子利用了暂存空间和模式空间的特点进行求和，其中 $ 代表最后一行； ‘^’ 代表第一行； 然后利用选项H 和 x; 其中利用sed的s编辑命令和正则表达式把换行换为加号，最后通过管道把表达式交给bc计算器，得到最终结果；</p>
<p>第二个例子则是利用sed的标签，没有用到暂存空间； 其中 ：a是设置了一个 a标签， ba的作用是跳转到a标签；</p>
<p>感觉这种工具只有自己去实践了才能领会，反正我是写的晕晕的；</p>
<p><strong>awk工具的简单使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">awk可是厉害了，awk严格说也是一门语言，语法很多，也很强大，在这里我只学了个皮毛，也就只负责皮毛的这块了；</span><br><span class="line"></span><br><span class="line">既然有了sed为什么还要有awk呢？   肯定是因为awk比sed更加强大，就最明显的一点，sed只能一行一行处理数据，不能处理一列一列的数据，而awk就可以做到，而且awk还可以利用类C的语法结构，简直强大，可是我用的还是不熟；</span><br><span class="line"></span><br><span class="line">关于awk的使用，在前面复习shell语法的时候其实都用到了，就是找出你在Linux上最常用的十个命令：</span><br><span class="line">history | awk &apos;&#123;print $1&#125;&apos; | sort | uniq -c | sort -nr |head</span><br><span class="line"></span><br><span class="line">awk 的默认的列分割符是空格，我们也可以指定分割符，利用 -F选项;</span><br><span class="line">例如：</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611171504479?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure>
<p>awk 还有一个特点就是它的 BEGIN 块和 END 块；</p>
<p>BEGIN块的作用是在awk执行匹配之前先执行的语句，END自然就是awk处理完之后执行的语句；</p>
<p>例如：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://img-blog.csdn.net/20170611172225139?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYml0Ym9zcw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title="">
                </div>
                <div class="image-caption">这里写图片描述</div>
            </figure></p>
<p>awk和sed简单的使用就写到这了，感觉烂尾了，写的好累写不下去了，也是这俩个工具要掌握的话需要很多篇幅的，总之就这样了，下一篇，mysql数据库的学习！</p>
<p>版权声明：本文为博主原创文章，未经博主允许不得转载。    <a href="https://blog.csdn.net/bitboss/article/details/73019967" target="_blank" rel="noopener">https://blog.csdn.net/bitboss/article/details/73019967</a></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最終更新：<time datetime="2018-07-22T02:41:27.000Z" itemprop="dateUpdated">2018-07-22 10:41:27</time>
</span><br>


        
        <a href="/2018/07/22/Linux/shell 总结/" target="_blank" rel="external">http://io.stelawliet.top/2018/07/22/Linux/shell 总结/</a>
        
    </div>
    
    <footer>
        <a href="http://io.stelawliet.top">
            <img src="/img/avatar.jpg" alt="Stelawliet">
            Stelawliet
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/&title=stelawliet&pic=http://io.stelawliet.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/&title=stelawliet&source=sky" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=stelawliet&url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/&via=http://io.stelawliet.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/07/23/Java/JavaSE/CgLib动态代理/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">CGLib 动态代理</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/07/22/Linux/shell/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">No title</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "yg0YOBlsgCru0mqR8zfr7Xsm-gzGzoHsz",
            appKey: "QDgspYKufF8K1YCR46v7udft",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->







</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
            <span>このブログの内容物は<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ja">クリエイティブ・コモンズ 表示 - 非営利 - 継承 4.0 国際ライセンスの下に提供されています</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Stelawliet &copy; 2015 - 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/&title=《No title》 — stelawliet&pic=http://io.stelawliet.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/&title=《No title》 — stelawliet&source=sky" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《No title》 — stelawliet&url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/&via=http://io.stelawliet.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://io.stelawliet.top/2018/07/22/Linux/shell 总结/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACNklEQVR42u3awXLDIAxFUf//T7sznexSk/sQztTisso4qeGwUCXEceBx/o7xk/FfncPx/pvjjiFDhozHMtIJyGT8N1fv52uTIUPGPgw+zfgJCdY8lAfvlCFDhgz8+SogXj1ZtjUyZMiQgZdO0rs0rMuQIUMGX8q4QE1L0FXbJEOGjB0YaWPgm59v7G/IkCHjIYwzHCTgpkleZT2vd8qQIaM1g7QPKxcy0ssZaXT9sAcyZMhoxJi7BsE3Yrw1c8kiwsiQIaMRgx++p7tSOWjjR3gyZMjozeABcfycJ5S8lB1vxEGsMmTIaMHgiWCa0lUKYL6tl/83ZMiQ0Y6R5pJzT0gArcwoQ4aMrgweRnmQvS/4Xv5ShgwZ2zDSQ7dKyzNNRtFxmwwZMloz5pqIlRZCZWv++FaGDBmtGbwBwFPANH2sX/KQIUNGbwZZetpKrBTG6VUzGTJk7MDgSRsJi5XLFmS56LKFDBky2jHS0pED+NaQpuaHFFaGDBmtGXcceM0d8c+1QhcEXxkyZPx7RqlxiJuU9behyxYyZMjYhsGLWzJB/eoYKpJlyJDRmlFZxKqgObc1aEYZMmS0YJzh4A3OSis0vbohQ4aM3oy4XAxbBeR4jhTPqxJWGTJkPJfBgyy5SDF3bSJtf8qQIWNPxlwQTAMxmSsN/TJkyJCRHsClRSa/QLYs4MqQIWMbxlzw5RsUr0eGDBkbMHgArQfZytHeslpchgwZj2KsbQykRemqhoEMGTKaMn4AVKCOdN6PnYgAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'sky';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
